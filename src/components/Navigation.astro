---
// Centered liquid glass navigation header
---

<nav class="fixed top-8 w-full z-50">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-center items-center h-14 relative">
      <!-- Logo positioned absolutely on left -->
      <div class="absolute left-0 flex items-center">
        <a href="/" class="block">
          <img
            id="francisco-logo"
            src="/logo/Francisco-animated.svg"
            alt="Francisco"
            class="h-5 w-auto text-glass-gray-800 dark:text-dark-glass-gray-800 transition-colors duration-300"
          />
        </a>
      </div>

      <!-- Centered Navigation Menu -->
      <div class="hidden md:block">
        <div class="bg-glass-white/60 dark:bg-dark-glass-white/60 backdrop-blur-lg rounded-glass px-6 py-2 flex items-center space-x-6 shadow-frost border border-glass-gray-200/10 dark:border-dark-glass-gray-200/10">
          <a href="/" class="text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary text-sm font-medium transition-all duration-300">francisco</a>
          <a href="/writings" class="text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary text-sm font-medium transition-all duration-300">writings</a>
          <a href="/resources" class="text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary text-sm font-medium transition-all duration-300">resources</a>
          <a href="/contact" class="text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary text-sm font-medium transition-all duration-300">contact</a>
        </div>
      </div>

      <!-- Right Side positioned absolutely on right -->
      <div class="absolute right-0 flex items-center space-x-2">
        <!-- Theme Toggle -->
        <button onclick="toggleTheme()" class="w-8 h-8 bg-glass-white/60 dark:bg-dark-glass-white/60 backdrop-blur-lg rounded-glass-sm flex items-center justify-center shadow-frost border border-glass-white/20 dark:border-dark-glass-white/20 text-glass-gray-600 dark:text-dark-glass-gray-600 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20">
          <!-- Sun icon (light mode) -->
          <svg id="sun-icon" class="w-4 h-4 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <!-- Moon icon (dark mode) -->
          <svg id="moon-icon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>
        
        <!-- CTA Button -->
        <a href="#contact" class="group relative bg-glass-primary dark:bg-dark-glass-primary text-glass-white dark:text-dark-glass-white px-6 py-3 rounded-glass text-sm font-medium transition-all duration-500 shadow-glass focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20 overflow-hidden hover:shadow-xl hover:scale-105 hover:bg-white hover:text-glass-primary">
          <span class="relative z-10 transition-colors duration-500">Book an intro call</span>
          <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </a>
        
        <!-- Mobile menu button -->
        <div class="md:hidden">
          <button
            type="button"
            id="mobile-menu-button"
            aria-expanded="false"
            aria-controls="mobile-menu"
            aria-label="Toggle navigation menu"
            class="w-8 h-8 bg-glass-white/60 dark:bg-dark-glass-white/60 backdrop-blur-lg rounded-glass-sm flex items-center justify-center shadow-frost border border-glass-white/20 dark:border-dark-glass-white/20 text-glass-gray-600 dark:text-dark-glass-gray-600 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20"
          >
            <svg id="menu-icon" class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <svg id="close-icon" class="h-4 w-4 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden fixed top-0 left-0 w-full h-full bg-glass-white/95 dark:bg-dark-glass-white/95 backdrop-blur-lg z-40"
    role="dialog"
    aria-modal="true"
    aria-labelledby="mobile-menu-title"
  >
    <div class="flex flex-col h-full pt-20 px-4">
      <h2 id="mobile-menu-title" class="sr-only">Navigation Menu</h2>

      <nav class="flex flex-col space-y-6" role="navigation">
        <a
          href="/"
          class="text-2xl font-medium text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20 rounded p-2"
          onclick="closeMobileMenu()"
        >
          francisco
        </a>
        <a
          href="/writings"
          class="text-2xl font-medium text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20 rounded p-2"
          onclick="closeMobileMenu()"
        >
          writings
        </a>
        <a
          href="/resources"
          class="text-2xl font-medium text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20 rounded p-2"
          onclick="closeMobileMenu()"
        >
          resources
        </a>
        <a
          href="/contact"
          class="text-2xl font-medium text-glass-gray-700 dark:text-dark-glass-gray-700 hover:text-glass-primary dark:hover:text-dark-glass-primary transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20 rounded p-2"
          onclick="closeMobileMenu()"
        >
          contact
        </a>
      </nav>

      <div class="mt-8">
        <a
          href="/contact"
          class="inline-block bg-glass-primary dark:bg-dark-glass-primary text-glass-white dark:text-dark-glass-white px-6 py-3 rounded-glass text-lg font-medium transition-all duration-300 shadow-glass focus:outline-none focus:ring-2 focus:ring-glass-primary/20 dark:focus:ring-dark-glass-primary/20"
          onclick="closeMobileMenu()"
        >
          Book an intro call
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  // Update theme icons when component loads
  document.addEventListener('DOMContentLoaded', function() {
    // Small delay to ensure the global script has run
    setTimeout(() => {
      if (window.updateThemeIcons) {
        window.updateThemeIcons();
      }
    }, 100);

    // Trigger logo animation on page load
    const logo = document.getElementById('francisco-logo');
    if (logo) {
      // Force animation restart by cloning and replacing the element
      const restartAnimation = () => {
        const newLogo = logo.cloneNode(true);
        logo.parentNode.replaceChild(newLogo, logo);
      };

      // Restart animation when logo is clicked
      logo.addEventListener('click', restartAnimation);
    }

    // Mobile menu functionality
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    if (mobileMenuButton && mobileMenu) {
      mobileMenuButton.addEventListener('click', function() {
        const isOpen = !mobileMenu.classList.contains('hidden');

        if (isOpen) {
          closeMobileMenu();
        } else {
          openMobileMenu();
        }
      });
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
        if (!mobileMenu.contains(event.target) && !mobileMenuButton.contains(event.target)) {
          closeMobileMenu();
        }
      }
    });

    // Close mobile menu on escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && mobileMenu && !mobileMenu.classList.contains('hidden')) {
        closeMobileMenu();
      }
    });
  });

  // Global mobile menu functions
  window.openMobileMenu = function() {
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    if (mobileMenu) {
      mobileMenu.classList.remove('hidden');
      document.body.style.overflow = 'hidden';

      if (mobileMenuButton) {
        mobileMenuButton.setAttribute('aria-expanded', 'true');
      }

      if (menuIcon && closeIcon) {
        menuIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
      }
    }
  };

  window.closeMobileMenu = function() {
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    if (mobileMenu) {
      mobileMenu.classList.add('hidden');
      document.body.style.overflow = '';

      if (mobileMenuButton) {
        mobileMenuButton.setAttribute('aria-expanded', 'false');
      }

      if (menuIcon && closeIcon) {
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
      }
    }
  };
</script>
